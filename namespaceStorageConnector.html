<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ThalamOS: StorageConnector Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td id="projectalign">
   <div id="projectname">ThalamOS
   </div>
   <div id="projectbrief">a powerful Flask web application designed to enhance your storage management.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('namespaceStorageConnector.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">StorageConnector Namespace Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a3e57ab684726c196f9d27e87e4212176" id="r_a3e57ab684726c196f9d27e87e4212176"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceStorageConnector.html#a3e57ab684726c196f9d27e87e4212176">setup</a> ()</td></tr>
<tr class="separator:a3e57ab684726c196f9d27e87e4212176"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96dd63444454838ba951e91b2b31bd1a" id="r_a96dd63444454838ba951e91b2b31bd1a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceStorageConnector.html#a96dd63444454838ba951e91b2b31bd1a">fetch_csv</a> ()</td></tr>
<tr class="separator:a96dd63444454838ba951e91b2b31bd1a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acfc4115262f494896562e8b1be07ef66" id="r_acfc4115262f494896562e8b1be07ef66"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceStorageConnector.html#acfc4115262f494896562e8b1be07ef66">fetch_item</a> (item_id)</td></tr>
<tr class="separator:acfc4115262f494896562e8b1be07ef66"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a592f10db41c720fb67b6005cd380c507" id="r_a592f10db41c720fb67b6005cd380c507"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceStorageConnector.html#a592f10db41c720fb67b6005cd380c507">delete_item</a> (item_id)</td></tr>
<tr class="separator:a592f10db41c720fb67b6005cd380c507"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f91c55bfa838d16b21ec8ef7923a5f0" id="r_a0f91c55bfa838d16b21ec8ef7923a5f0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceStorageConnector.html#a0f91c55bfa838d16b21ec8ef7923a5f0">create_item</a> (pos, typ, name, json_data)</td></tr>
<tr class="separator:a0f91c55bfa838d16b21ec8ef7923a5f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a602167f1f13e6b1e03d1f3e5b0654110" id="r_a602167f1f13e6b1e03d1f3e5b0654110"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceStorageConnector.html#a602167f1f13e6b1e03d1f3e5b0654110">search</a> (search_term)</td></tr>
<tr class="separator:a602167f1f13e6b1e03d1f3e5b0654110"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a418445de0629ef446798018c9f020d97" id="r_a418445de0629ef446798018c9f020d97"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceStorageConnector.html#a418445de0629ef446798018c9f020d97">db_path</a> = os.path.join(os.path.dirname(__file__), 'data/storage.db')</td></tr>
<tr class="separator:a418445de0629ef446798018c9f020d97"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb69a41184bd102cefaf75b2c25940c7" id="r_acb69a41184bd102cefaf75b2c25940c7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceStorageConnector.html#acb69a41184bd102cefaf75b2c25940c7">mydb</a> = sqlite3.connect(<a class="el" href="namespaceStorageConnector.html#a418445de0629ef446798018c9f020d97">db_path</a>, check_same_thread=False)</td></tr>
<tr class="separator:acb69a41184bd102cefaf75b2c25940c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7f7cb342dcd50398736d8e136fa07cf" id="r_ae7f7cb342dcd50398736d8e136fa07cf"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceStorageConnector.html#ae7f7cb342dcd50398736d8e136fa07cf">cursor</a> = mydb.cursor()</td></tr>
<tr class="separator:ae7f7cb342dcd50398736d8e136fa07cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">StorageConnector Module

This module provides functions to interact with a SQLite database for managing storage items.
It includes functionalities to set up the database, create, fetch, delete, and search items,
as well as export the data to a CSV file.

Functions:
- setup(): Sets up the database by creating the 'storage' table and
  a trigger for automatic updating of the 'modification_time' column.
- fetch_csv(): Fetches all data from the 'storage' table and 
  writes it to a CSV file named 'out.csv'.
- fetch_item(item_id): Fetches an item from the storage database by its id.
- delete_item(item_id): Deletes an item from the storage database based on the provided item id.
- create_item(pos, typ, name, jsonData): Creates an item in the storage database.
- search(search_term): Searches the storage database for entries that match the given search term.
</pre> </div><h2 class="groupheader">Function Documentation</h2>
<a id="a0f91c55bfa838d16b21ec8ef7923a5f0" name="a0f91c55bfa838d16b21ec8ef7923a5f0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0f91c55bfa838d16b21ec8ef7923a5f0">&#9670;&#160;</a></span>create_item()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">StorageConnector.create_item </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>pos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>typ</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>json_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Creates an item in the storage database.
Args:
    pos (int): The position of the item.
    typ (str): The type of the item.
    name (str): The name of the item.
    jsonData (str): The JSON data associated with the item. If empty JSON object ("{}"),
    no additional info is stored.
Returns:
    None
</pre> <div class="fragment"><div class="line"><span class="lineno">  115</span><span class="keyword">def </span>create_item(pos, typ, name, json_data):</div>
<div class="line"><span class="lineno">  116</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  117</span><span class="stringliteral">    Creates an item in the storage database.</span></div>
<div class="line"><span class="lineno">  118</span><span class="stringliteral">    Args:</span></div>
<div class="line"><span class="lineno">  119</span><span class="stringliteral">        pos (int): The position of the item.</span></div>
<div class="line"><span class="lineno">  120</span><span class="stringliteral">        typ (str): The type of the item.</span></div>
<div class="line"><span class="lineno">  121</span><span class="stringliteral">        name (str): The name of the item.</span></div>
<div class="line"><span class="lineno">  122</span><span class="stringliteral">        jsonData (str): The JSON data associated with the item. If empty JSON object (&quot;{}&quot;),</span></div>
<div class="line"><span class="lineno">  123</span><span class="stringliteral">        no additional info is stored.</span></div>
<div class="line"><span class="lineno">  124</span><span class="stringliteral">    Returns:</span></div>
<div class="line"><span class="lineno">  125</span><span class="stringliteral">        None</span></div>
<div class="line"><span class="lineno">  126</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  127</span> </div>
<div class="line"><span class="lineno">  128</span>    print(<span class="stringliteral">&quot;Creating item..&quot;</span>)</div>
<div class="line"><span class="lineno">  129</span>    <span class="keywordflow">if</span> json_data == <span class="stringliteral">&quot;{}&quot;</span>:</div>
<div class="line"><span class="lineno">  130</span>        query = <span class="stringliteral">&quot;INSERT INTO storage (position, type, name) VALUES (?, ?, ?);&quot;</span></div>
<div class="line"><span class="lineno">  131</span>        params = (pos, typ, name)</div>
<div class="line"><span class="lineno">  132</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  133</span>        query = <span class="stringliteral">&quot;INSERT INTO storage (position, type, name, info) VALUES (?, ?, ?, ?);&quot;</span></div>
<div class="line"><span class="lineno">  134</span>        params = (pos, typ, name, json_data)</div>
<div class="line"><span class="lineno">  135</span>    print(query)</div>
<div class="line"><span class="lineno">  136</span>    cursor.execute(query, params)</div>
<div class="line"><span class="lineno">  137</span>    mydb.commit()</div>
<div class="line"><span class="lineno">  138</span> </div>
<div class="line"><span class="lineno">  139</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a592f10db41c720fb67b6005cd380c507" name="a592f10db41c720fb67b6005cd380c507"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a592f10db41c720fb67b6005cd380c507">&#9670;&#160;</a></span>delete_item()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">StorageConnector.delete_item </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>item_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Deletes an item from the storage database based on the provided item id.
Args:
    itemID (int): The id of the item to be deleted from the storage.
Returns:
    None
</pre> <div class="fragment"><div class="line"><span class="lineno">  102</span><span class="keyword">def </span>delete_item(item_id):</div>
<div class="line"><span class="lineno">  103</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  104</span><span class="stringliteral">    Deletes an item from the storage database based on the provided item id.</span></div>
<div class="line"><span class="lineno">  105</span><span class="stringliteral">    Args:</span></div>
<div class="line"><span class="lineno">  106</span><span class="stringliteral">        itemID (int): The id of the item to be deleted from the storage.</span></div>
<div class="line"><span class="lineno">  107</span><span class="stringliteral">    Returns:</span></div>
<div class="line"><span class="lineno">  108</span><span class="stringliteral">        None</span></div>
<div class="line"><span class="lineno">  109</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  110</span> </div>
<div class="line"><span class="lineno">  111</span>    cursor.execute(<span class="stringliteral">&quot;DELETE FROM storage WHERE ID=?;&quot;</span>, (item_id,))</div>
<div class="line"><span class="lineno">  112</span>    mydb.commit()</div>
<div class="line"><span class="lineno">  113</span> </div>
<div class="line"><span class="lineno">  114</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a96dd63444454838ba951e91b2b31bd1a" name="a96dd63444454838ba951e91b2b31bd1a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a96dd63444454838ba951e91b2b31bd1a">&#9670;&#160;</a></span>fetch_csv()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">StorageConnector.fetch_csv </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Fetches all data from the 'storage' table in the database and 
writes it to a CSV file named 'out.csv'.
The function executes a SQL query to select all rows from the 
'storage' table, writes the column headers
and all rows to the CSV file, and saves the file with UTF-8 encoding.
Raises:
    Any exceptions raised by the database cursor execution or file operations.
</pre> <div class="fragment"><div class="line"><span class="lineno">   70</span><span class="keyword">def </span>fetch_csv():</div>
<div class="line"><span class="lineno">   71</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">   72</span><span class="stringliteral">    Fetches all data from the &#39;storage&#39; table in the database and </span></div>
<div class="line"><span class="lineno">   73</span><span class="stringliteral">    writes it to a CSV file named &#39;out.csv&#39;.</span></div>
<div class="line"><span class="lineno">   74</span><span class="stringliteral">    The function executes a SQL query to select all rows from the </span></div>
<div class="line"><span class="lineno">   75</span><span class="stringliteral">    &#39;storage&#39; table, writes the column headers</span></div>
<div class="line"><span class="lineno">   76</span><span class="stringliteral">    and all rows to the CSV file, and saves the file with UTF-8 encoding.</span></div>
<div class="line"><span class="lineno">   77</span><span class="stringliteral">    Raises:</span></div>
<div class="line"><span class="lineno">   78</span><span class="stringliteral">        Any exceptions raised by the database cursor execution or file operations.</span></div>
<div class="line"><span class="lineno">   79</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">   80</span> </div>
<div class="line"><span class="lineno">   81</span>    cursor.execute(<span class="stringliteral">&quot;SELECT * FROM storage;&quot;</span>)</div>
<div class="line"><span class="lineno">   82</span>    <span class="keyword">with</span> open(<span class="stringliteral">&quot;out.csv&quot;</span>, <span class="stringliteral">&quot;w&quot;</span>, newline=<span class="stringliteral">&#39;&#39;</span>, encoding=<span class="stringliteral">&#39;utf-8&#39;</span>) <span class="keyword">as</span> csv_file:</div>
<div class="line"><span class="lineno">   83</span>        csv_writer = csv.writer(csv_file)</div>
<div class="line"><span class="lineno">   84</span>        csv_writer.writerow([i[0] <span class="keywordflow">for</span> i <span class="keywordflow">in</span> cursor.description])  <span class="comment"># Spaltenüberschriften</span></div>
<div class="line"><span class="lineno">   85</span>        csv_writer.writerows(cursor.fetchall())  <span class="comment"># Alle Zeilen schreiben</span></div>
<div class="line"><span class="lineno">   86</span>        csv_file.close()</div>
<div class="line"><span class="lineno">   87</span> </div>
<div class="line"><span class="lineno">   88</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="acfc4115262f494896562e8b1be07ef66" name="acfc4115262f494896562e8b1be07ef66"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acfc4115262f494896562e8b1be07ef66">&#9670;&#160;</a></span>fetch_item()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">StorageConnector.fetch_item </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>item_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Fetch an item from the storage database by its id.
Args:
    itemID (int): The id of the item to fetch.
Returns:
    tuple: A tuple containing the item's data if found, otherwise None.
</pre> <div class="fragment"><div class="line"><span class="lineno">   89</span><span class="keyword">def </span>fetch_item(item_id):</div>
<div class="line"><span class="lineno">   90</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">   91</span><span class="stringliteral">    Fetch an item from the storage database by its id.</span></div>
<div class="line"><span class="lineno">   92</span><span class="stringliteral">    Args:</span></div>
<div class="line"><span class="lineno">   93</span><span class="stringliteral">        itemID (int): The id of the item to fetch.</span></div>
<div class="line"><span class="lineno">   94</span><span class="stringliteral">    Returns:</span></div>
<div class="line"><span class="lineno">   95</span><span class="stringliteral">        tuple: A tuple containing the item&#39;s data if found, otherwise None.</span></div>
<div class="line"><span class="lineno">   96</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">   97</span> </div>
<div class="line"><span class="lineno">   98</span>    cursor.execute(<span class="stringliteral">&quot;select * From storage WHERE id=?;&quot;</span>, (item_id,))</div>
<div class="line"><span class="lineno">   99</span>    <span class="keywordflow">return</span> cursor.fetchone()</div>
<div class="line"><span class="lineno">  100</span> </div>
<div class="line"><span class="lineno">  101</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a602167f1f13e6b1e03d1f3e5b0654110" name="a602167f1f13e6b1e03d1f3e5b0654110"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a602167f1f13e6b1e03d1f3e5b0654110">&#9670;&#160;</a></span>search()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">StorageConnector.search </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>search_term</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Searches the storage database for entries that match the given search term.
Args:
    searchTerm (str): The term to search for in the database. The term will be split 
                      into individual words,
                      and each word will be used to search the 'type', 'name', and 
                      'info' columns.
Returns:
    list: A list of tuples containing the rows from the database that match the search criteria.
          Returns None if there is an SQLite programming error.
Raises:
    sqlite3.ProgrammingError: If there is an error executing the query.
</pre> <div class="fragment"><div class="line"><span class="lineno">  140</span><span class="keyword">def </span>search(search_term):</div>
<div class="line"><span class="lineno">  141</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  142</span><span class="stringliteral">    Searches the storage database for entries that match the given search term.</span></div>
<div class="line"><span class="lineno">  143</span><span class="stringliteral">    Args:</span></div>
<div class="line"><span class="lineno">  144</span><span class="stringliteral">        searchTerm (str): The term to search for in the database. The term will be split </span></div>
<div class="line"><span class="lineno">  145</span><span class="stringliteral">                          into individual words,</span></div>
<div class="line"><span class="lineno">  146</span><span class="stringliteral">                          and each word will be used to search the &#39;type&#39;, &#39;name&#39;, and </span></div>
<div class="line"><span class="lineno">  147</span><span class="stringliteral">                          &#39;info&#39; columns.</span></div>
<div class="line"><span class="lineno">  148</span><span class="stringliteral">    Returns:</span></div>
<div class="line"><span class="lineno">  149</span><span class="stringliteral">        list: A list of tuples containing the rows from the database that match the search criteria.</span></div>
<div class="line"><span class="lineno">  150</span><span class="stringliteral">              Returns None if there is an SQLite programming error.</span></div>
<div class="line"><span class="lineno">  151</span><span class="stringliteral">    Raises:</span></div>
<div class="line"><span class="lineno">  152</span><span class="stringliteral">        sqlite3.ProgrammingError: If there is an error executing the query.</span></div>
<div class="line"><span class="lineno">  153</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  154</span>    <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  155</span>        <span class="comment"># Split searchTerm into single words</span></div>
<div class="line"><span class="lineno">  156</span>        search_terms = search_term.split()</div>
<div class="line"><span class="lineno">  157</span> </div>
<div class="line"><span class="lineno">  158</span>        <span class="comment"># create statement with placeholders for each search term</span></div>
<div class="line"><span class="lineno">  159</span>        conditions = <span class="stringliteral">&quot; AND &quot;</span>.join(</div>
<div class="line"><span class="lineno">  160</span>            [<span class="stringliteral">&quot;(type LIKE ? OR name LIKE ? OR info LIKE ?)&quot;</span> <span class="keywordflow">for</span> _ <span class="keywordflow">in</span> search_terms]</div>
<div class="line"><span class="lineno">  161</span>        )</div>
<div class="line"><span class="lineno">  162</span>        query = f<span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  163</span><span class="stringliteral">        SELECT *</span></div>
<div class="line"><span class="lineno">  164</span><span class="stringliteral">        FROM storage</span></div>
<div class="line"><span class="lineno">  165</span><span class="stringliteral">        WHERE {conditions};</span></div>
<div class="line"><span class="lineno">  166</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  167</span> </div>
<div class="line"><span class="lineno">  168</span>        <span class="comment"># create parameters for each placeholder</span></div>
<div class="line"><span class="lineno">  169</span>        parameters = tuple(</div>
<div class="line"><span class="lineno">  170</span>            f<span class="stringliteral">&quot;%{term}%&quot;</span> <span class="keywordflow">for</span> term <span class="keywordflow">in</span> search_terms <span class="keywordflow">for</span> _ <span class="keywordflow">in</span> range(3)</div>
<div class="line"><span class="lineno">  171</span>        )</div>
<div class="line"><span class="lineno">  172</span> </div>
<div class="line"><span class="lineno">  173</span>        <span class="comment"># Debugging: print query and parameters</span></div>
<div class="line"><span class="lineno">  174</span>        print(<span class="stringliteral">&quot;Query:&quot;</span>, query)</div>
<div class="line"><span class="lineno">  175</span>        print(<span class="stringliteral">&quot;Parameter:&quot;</span>, parameters)</div>
<div class="line"><span class="lineno">  176</span> </div>
<div class="line"><span class="lineno">  177</span>        cursor.execute(query, parameters)</div>
<div class="line"><span class="lineno">  178</span>        results = cursor.fetchall()</div>
<div class="line"><span class="lineno">  179</span> </div>
<div class="line"><span class="lineno">  180</span>        <span class="keywordflow">return</span> results</div>
<div class="line"><span class="lineno">  181</span> </div>
<div class="line"><span class="lineno">  182</span>    <span class="keywordflow">except</span> sqlite3.ProgrammingError <span class="keyword">as</span> e:</div>
<div class="line"><span class="lineno">  183</span>        print(<span class="stringliteral">&quot;SQLite-Error:&quot;</span>, str(e))</div>
<div class="line"><span class="lineno">  184</span>        <span class="keywordflow">return</span> <span class="keywordtype">None</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a3e57ab684726c196f9d27e87e4212176" name="a3e57ab684726c196f9d27e87e4212176"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3e57ab684726c196f9d27e87e4212176">&#9670;&#160;</a></span>setup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">StorageConnector.setup </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Sets up the database by creating the 'storage' table and a trigger for automatic 
updating of the 'modification_time' column.
The 'storage' table contains the following columns:
- id: INTEGER, primary key, autoincrement
- position: INTEGER
- type: TEXT
- name: TEXT
- info: TEXT
- modification_time: TIMESTAMP, defaults to the current timestamp
The trigger 'update_modification_time' ensures that the 'modification_time' column 
is automatically updated to the current timestamp whenever a row in the 'storage' 
table is updated.
Commits the changes to the database and prints a confirmation message.
</pre> <div class="fragment"><div class="line"><span class="lineno">   28</span><span class="keyword">def </span>setup():</div>
<div class="line"><span class="lineno">   29</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">   30</span><span class="stringliteral">    Sets up the database by creating the &#39;storage&#39; table and a trigger for automatic </span></div>
<div class="line"><span class="lineno">   31</span><span class="stringliteral">    updating of the &#39;modification_time&#39; column.</span></div>
<div class="line"><span class="lineno">   32</span><span class="stringliteral">    The &#39;storage&#39; table contains the following columns:</span></div>
<div class="line"><span class="lineno">   33</span><span class="stringliteral">    - id: INTEGER, primary key, autoincrement</span></div>
<div class="line"><span class="lineno">   34</span><span class="stringliteral">    - position: INTEGER</span></div>
<div class="line"><span class="lineno">   35</span><span class="stringliteral">    - type: TEXT</span></div>
<div class="line"><span class="lineno">   36</span><span class="stringliteral">    - name: TEXT</span></div>
<div class="line"><span class="lineno">   37</span><span class="stringliteral">    - info: TEXT</span></div>
<div class="line"><span class="lineno">   38</span><span class="stringliteral">    - modification_time: TIMESTAMP, defaults to the current timestamp</span></div>
<div class="line"><span class="lineno">   39</span><span class="stringliteral">    The trigger &#39;update_modification_time&#39; ensures that the &#39;modification_time&#39; column </span></div>
<div class="line"><span class="lineno">   40</span><span class="stringliteral">    is automatically updated to the current timestamp whenever a row in the &#39;storage&#39; </span></div>
<div class="line"><span class="lineno">   41</span><span class="stringliteral">    table is updated.</span></div>
<div class="line"><span class="lineno">   42</span><span class="stringliteral">    Commits the changes to the database and prints a confirmation message.</span></div>
<div class="line"><span class="lineno">   43</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">   44</span>    cursor.execute(<span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">   45</span><span class="stringliteral">    CREATE TABLE IF NOT EXISTS storage (</span></div>
<div class="line"><span class="lineno">   46</span><span class="stringliteral">        id INTEGER PRIMARY KEY AUTOINCREMENT,</span></div>
<div class="line"><span class="lineno">   47</span><span class="stringliteral">        position INTEGER,</span></div>
<div class="line"><span class="lineno">   48</span><span class="stringliteral">        type TEXT,</span></div>
<div class="line"><span class="lineno">   49</span><span class="stringliteral">        name TEXT,</span></div>
<div class="line"><span class="lineno">   50</span><span class="stringliteral">        info TEXT,</span></div>
<div class="line"><span class="lineno">   51</span><span class="stringliteral">        modification_time TIMESTAMP DEFAULT CURRENT_TIMESTAMP</span></div>
<div class="line"><span class="lineno">   52</span><span class="stringliteral">    );</span></div>
<div class="line"><span class="lineno">   53</span><span class="stringliteral">    &quot;&quot;&quot;</span>)</div>
<div class="line"><span class="lineno">   54</span> </div>
<div class="line"><span class="lineno">   55</span>    <span class="comment"># trigger for automatic update of modification_time</span></div>
<div class="line"><span class="lineno">   56</span>    cursor.execute(<span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">   57</span><span class="stringliteral">    CREATE TRIGGER IF NOT EXISTS update_modification_time</span></div>
<div class="line"><span class="lineno">   58</span><span class="stringliteral">    AFTER UPDATE ON storage</span></div>
<div class="line"><span class="lineno">   59</span><span class="stringliteral">    FOR EACH ROW</span></div>
<div class="line"><span class="lineno">   60</span><span class="stringliteral">    BEGIN</span></div>
<div class="line"><span class="lineno">   61</span><span class="stringliteral">        UPDATE storage</span></div>
<div class="line"><span class="lineno">   62</span><span class="stringliteral">        SET modification_time = CURRENT_TIMESTAMP</span></div>
<div class="line"><span class="lineno">   63</span><span class="stringliteral">        WHERE id = OLD.id;</span></div>
<div class="line"><span class="lineno">   64</span><span class="stringliteral">    END;</span></div>
<div class="line"><span class="lineno">   65</span><span class="stringliteral">    &quot;&quot;&quot;</span>)</div>
<div class="line"><span class="lineno">   66</span>    mydb.commit()</div>
<div class="line"><span class="lineno">   67</span>    print(<span class="stringliteral">&quot;Database is ready for service&quot;</span>)</div>
<div class="line"><span class="lineno">   68</span> </div>
<div class="line"><span class="lineno">   69</span> </div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ae7f7cb342dcd50398736d8e136fa07cf" name="ae7f7cb342dcd50398736d8e136fa07cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae7f7cb342dcd50398736d8e136fa07cf">&#9670;&#160;</a></span>cursor</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">StorageConnector.cursor = mydb.cursor()</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a418445de0629ef446798018c9f020d97" name="a418445de0629ef446798018c9f020d97"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a418445de0629ef446798018c9f020d97">&#9670;&#160;</a></span>db_path</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">StorageConnector.db_path = os.path.join(os.path.dirname(__file__), 'data/storage.db')</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="acb69a41184bd102cefaf75b2c25940c7" name="acb69a41184bd102cefaf75b2c25940c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acb69a41184bd102cefaf75b2c25940c7">&#9670;&#160;</a></span>mydb</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">StorageConnector.mydb = sqlite3.connect(<a class="el" href="namespaceStorageConnector.html#a418445de0629ef446798018c9f020d97">db_path</a>, check_same_thread=False)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespaceStorageConnector.html">StorageConnector</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
