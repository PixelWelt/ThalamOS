<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ThalamOS: Storage_connector Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td id="projectalign">
   <div id="projectname">ThalamOS
   </div>
   <div id="projectbrief">a powerful Flask web application designed to enhance your storage management.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('namespaceStorage__connector.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">Storage_connector Namespace Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a4a7b8f7d46452a7f1e5d5e3322cfe640" id="r_a4a7b8f7d46452a7f1e5d5e3322cfe640"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4a7b8f7d46452a7f1e5d5e3322cfe640">setup</a> ()</td></tr>
<tr class="separator:a4a7b8f7d46452a7f1e5d5e3322cfe640"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b07309c9c5cb1d3b02eef5b9c2f7690" id="r_a3b07309c9c5cb1d3b02eef5b9c2f7690"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classmodels_1_1StorageItem.html">StorageItem</a>|None&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3b07309c9c5cb1d3b02eef5b9c2f7690">fetch_item</a> (int item_id)</td></tr>
<tr class="separator:a3b07309c9c5cb1d3b02eef5b9c2f7690"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac471908d4960c70ab0c8c0828e52ee39" id="r_ac471908d4960c70ab0c8c0828e52ee39"><td class="memItemLeft" align="right" valign="top">None&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac471908d4960c70ab0c8c0828e52ee39">delete_item</a> (int item_id)</td></tr>
<tr class="separator:ac471908d4960c70ab0c8c0828e52ee39"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d6c50b187903de5c4acd650ff3d2c98" id="r_a9d6c50b187903de5c4acd650ff3d2c98"><td class="memItemLeft" align="right" valign="top">None&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9d6c50b187903de5c4acd650ff3d2c98">create_item</a> (int pos, <a class="el" href="classmodels_1_1StorageItemType.html">StorageItemType</a> obj_type, str name, str json_data)</td></tr>
<tr class="separator:a9d6c50b187903de5c4acd650ff3d2c98"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a357b8455dc255ee9590d34de0787bf3f" id="r_a357b8455dc255ee9590d34de0787bf3f"><td class="memItemLeft" align="right" valign="top">List[<a class="el" href="classmodels_1_1StorageItem.html">StorageItem</a>]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a357b8455dc255ee9590d34de0787bf3f">search</a> (str search_term)</td></tr>
<tr class="separator:a357b8455dc255ee9590d34de0787bf3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4309087d1a20815b9930cf35652e668c" id="r_a4309087d1a20815b9930cf35652e668c"><td class="memItemLeft" align="right" valign="top">None&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4309087d1a20815b9930cf35652e668c">update_item</a> (int item_id, int pos, <a class="el" href="classmodels_1_1StorageItemType.html">StorageItemType</a> obj_type, str name, str json_data)</td></tr>
<tr class="separator:a4309087d1a20815b9930cf35652e668c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:abca51ca0d7cc7c573acca0dfb525f6c7" id="r_abca51ca0d7cc7c573acca0dfb525f6c7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abca51ca0d7cc7c573acca0dfb525f6c7">base_dir</a> = os.path.dirname(__file__)</td></tr>
<tr class="separator:abca51ca0d7cc7c573acca0dfb525f6c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a745322a0cf2d03ef7808ee94c4484d11" id="r_a745322a0cf2d03ef7808ee94c4484d11"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a745322a0cf2d03ef7808ee94c4484d11">db_dir</a> = os.path.join(<a class="el" href="#abca51ca0d7cc7c573acca0dfb525f6c7">base_dir</a>, &quot;data&quot;)</td></tr>
<tr class="separator:a745322a0cf2d03ef7808ee94c4484d11"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a737f83cafb7b2f183af5dc7165b82fe8" id="r_a737f83cafb7b2f183af5dc7165b82fe8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a737f83cafb7b2f183af5dc7165b82fe8">db_path</a> = os.path.join(<a class="el" href="#a745322a0cf2d03ef7808ee94c4484d11">db_dir</a>, &quot;storage.db&quot;)</td></tr>
<tr class="separator:a737f83cafb7b2f183af5dc7165b82fe8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aafb2377c1be1b5aff1e84786b4fe47c3" id="r_aafb2377c1be1b5aff1e84786b4fe47c3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aafb2377c1be1b5aff1e84786b4fe47c3">engine</a> = create_engine(f&quot;sqlite:///{<a class="el" href="#a737f83cafb7b2f183af5dc7165b82fe8">db_path</a>}&quot;, connect_args={&quot;check_same_thread&quot;: False})</td></tr>
<tr class="separator:aafb2377c1be1b5aff1e84786b4fe47c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">StorageConnector Module

This module provides functions to interact with a SQLite database for managing storage items.
It includes functionalities to set up the database, create, fetch, delete, and search items,
as well as export the data to a CSV file.
</pre> </div><h2 class="groupheader">Function Documentation</h2>
<a id="a9d6c50b187903de5c4acd650ff3d2c98" name="a9d6c50b187903de5c4acd650ff3d2c98"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9d6c50b187903de5c4acd650ff3d2c98">&#9670;&#160;</a></span>create_item()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> None Storage_connector.create_item </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>pos</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classmodels_1_1StorageItemType.html">StorageItemType</a></td>          <td class="paramname"><span class="paramname"><em>obj_type</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">str</td>          <td class="paramname"><span class="paramname"><em>name</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">str</td>          <td class="paramname"><span class="paramname"><em>json_data</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Creates a new item in the storage database with the provided position, type, name, and JSON data.

Args:
    pos: LED position of the item.
    obj_type: type of the Item
    name: name of item
    json_data: additional json ifno

Returns:
</pre> 
<p class="definition">Definition at line <a class="el" href="Storage__connector_8py_source.html#l00060">60</a> of file <a class="el" href="Storage__connector_8py_source.html">Storage_connector.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   60</span><span class="keyword">def </span>create_item(pos: int, obj_type: StorageItemType, name: str, json_data: str) -&gt; <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">   61</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">   62</span><span class="stringliteral">    Creates a new item in the storage database with the provided position, type, name, and JSON data.</span></div>
<div class="line"><span class="lineno">   63</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   64</span><span class="stringliteral">    Args:</span></div>
<div class="line"><span class="lineno">   65</span><span class="stringliteral">        pos: LED position of the item.</span></div>
<div class="line"><span class="lineno">   66</span><span class="stringliteral">        obj_type: type of the Item</span></div>
<div class="line"><span class="lineno">   67</span><span class="stringliteral">        name: name of item</span></div>
<div class="line"><span class="lineno">   68</span><span class="stringliteral">        json_data: additional json ifno</span></div>
<div class="line"><span class="lineno">   69</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   70</span><span class="stringliteral">    Returns:</span></div>
<div class="line"><span class="lineno">   71</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   72</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">   73</span>    info_value = <span class="keywordtype">None</span> <span class="keywordflow">if</span> json_data <span class="keywordflow">in</span> [<span class="stringliteral">&quot;{}&quot;</span>, <span class="stringliteral">&quot;&quot;</span>] <span class="keywordflow">else</span> json_data</div>
<div class="line"><span class="lineno">   74</span> </div>
<div class="line"><span class="lineno">   75</span>    new_item = StorageItem(</div>
<div class="line"><span class="lineno">   76</span>        position=pos,</div>
<div class="line"><span class="lineno">   77</span>        type=obj_type,</div>
<div class="line"><span class="lineno">   78</span>        name=name,</div>
<div class="line"><span class="lineno">   79</span>        info=info_value</div>
<div class="line"><span class="lineno">   80</span>    )</div>
<div class="line"><span class="lineno">   81</span> </div>
<div class="line"><span class="lineno">   82</span>    <span class="keyword">with</span> Session(engine) <span class="keyword">as</span> session:</div>
<div class="line"><span class="lineno">   83</span>        session.add(new_item)</div>
<div class="line"><span class="lineno">   84</span>        session.commit()</div>
<div class="line"><span class="lineno">   85</span>        logger.info(f<span class="stringliteral">&quot;Item created: {name}&quot;</span>)</div>
<div class="line"><span class="lineno">   86</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ac471908d4960c70ab0c8c0828e52ee39" name="ac471908d4960c70ab0c8c0828e52ee39"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac471908d4960c70ab0c8c0828e52ee39">&#9670;&#160;</a></span>delete_item()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> None Storage_connector.delete_item </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>item_id</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Deletes an item from the storage database based on the provided item id.
Args:
    item_id: The id of the item to be deleted from the storage.
Returns:
    None
</pre> 
<p class="definition">Definition at line <a class="el" href="Storage__connector_8py_source.html#l00042">42</a> of file <a class="el" href="Storage__connector_8py_source.html">Storage_connector.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   42</span><span class="keyword">def </span>delete_item(item_id: int) -&gt; <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">   43</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">   44</span><span class="stringliteral">    Deletes an item from the storage database based on the provided item id.</span></div>
<div class="line"><span class="lineno">   45</span><span class="stringliteral">    Args:</span></div>
<div class="line"><span class="lineno">   46</span><span class="stringliteral">        item_id: The id of the item to be deleted from the storage.</span></div>
<div class="line"><span class="lineno">   47</span><span class="stringliteral">    Returns:</span></div>
<div class="line"><span class="lineno">   48</span><span class="stringliteral">        None</span></div>
<div class="line"><span class="lineno">   49</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">   50</span>    <span class="keyword">with</span> Session(engine) <span class="keyword">as</span> session:</div>
<div class="line"><span class="lineno">   51</span>        item = session.get(StorageItem, item_id)</div>
<div class="line"><span class="lineno">   52</span>        <span class="keywordflow">if</span> item:</div>
<div class="line"><span class="lineno">   53</span>            session.delete(item)</div>
<div class="line"><span class="lineno">   54</span>            session.commit()</div>
<div class="line"><span class="lineno">   55</span>            logger.info(f<span class="stringliteral">&quot;Item with ID {item_id} deleted.&quot;</span>)</div>
<div class="line"><span class="lineno">   56</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">   57</span>            logger.warning(f<span class="stringliteral">&quot;Deletion failed: ID {item_id} not found.&quot;</span>)</div>
<div class="line"><span class="lineno">   58</span> </div>
<div class="line"><span class="lineno">   59</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a3b07309c9c5cb1d3b02eef5b9c2f7690" name="a3b07309c9c5cb1d3b02eef5b9c2f7690"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3b07309c9c5cb1d3b02eef5b9c2f7690">&#9670;&#160;</a></span>fetch_item()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> <a class="el" href="classmodels_1_1StorageItem.html">StorageItem</a> | None Storage_connector.fetch_item </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>item_id</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Fetch an item from the storage database by its id.
Args:
    item_id: The id of the item to fetch.
Returns:
    The item object if found, otherwise None.
</pre> 
<p class="definition">Definition at line <a class="el" href="Storage__connector_8py_source.html#l00030">30</a> of file <a class="el" href="Storage__connector_8py_source.html">Storage_connector.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   30</span><span class="keyword">def </span>fetch_item(item_id: int) -&gt; StorageItem | <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">   31</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">   32</span><span class="stringliteral">    Fetch an item from the storage database by its id.</span></div>
<div class="line"><span class="lineno">   33</span><span class="stringliteral">    Args:</span></div>
<div class="line"><span class="lineno">   34</span><span class="stringliteral">        item_id: The id of the item to fetch.</span></div>
<div class="line"><span class="lineno">   35</span><span class="stringliteral">    Returns:</span></div>
<div class="line"><span class="lineno">   36</span><span class="stringliteral">        The item object if found, otherwise None.</span></div>
<div class="line"><span class="lineno">   37</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">   38</span>    <span class="keyword">with</span> Session(engine) <span class="keyword">as</span> session:</div>
<div class="line"><span class="lineno">   39</span>        <span class="keywordflow">return</span> session.get(StorageItem, item_id)</div>
<div class="line"><span class="lineno">   40</span> </div>
<div class="line"><span class="lineno">   41</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a357b8455dc255ee9590d34de0787bf3f" name="a357b8455dc255ee9590d34de0787bf3f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a357b8455dc255ee9590d34de0787bf3f">&#9670;&#160;</a></span>search()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> List[<a class="el" href="classmodels_1_1StorageItem.html">StorageItem</a>] Storage_connector.search </td>
          <td>(</td>
          <td class="paramtype">str</td>          <td class="paramname"><span class="paramname"><em>search_term</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Searches the storage database for entries that match the given search term.
Args:
    search_term: The term to search for in the database. The term will be split
                      into individual words,
                      and each word will be used to search the 'type', 'name', and
                      'info' columns.
Returns:
    A list of tuples containing the rows from the database that match the search criteria.
          Returns None if there is an SQLite programming error.
Raises:
    sqlite3.ProgrammingError: If there is an error executing the query.
</pre> 
<p class="definition">Definition at line <a class="el" href="Storage__connector_8py_source.html#l00087">87</a> of file <a class="el" href="Storage__connector_8py_source.html">Storage_connector.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   87</span><span class="keyword">def </span>search(search_term: str) -&gt; List[StorageItem]:</div>
<div class="line"><span class="lineno">   88</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">   89</span><span class="stringliteral">    Searches the storage database for entries that match the given search term.</span></div>
<div class="line"><span class="lineno">   90</span><span class="stringliteral">    Args:</span></div>
<div class="line"><span class="lineno">   91</span><span class="stringliteral">        search_term: The term to search for in the database. The term will be split</span></div>
<div class="line"><span class="lineno">   92</span><span class="stringliteral">                          into individual words,</span></div>
<div class="line"><span class="lineno">   93</span><span class="stringliteral">                          and each word will be used to search the &#39;type&#39;, &#39;name&#39;, and</span></div>
<div class="line"><span class="lineno">   94</span><span class="stringliteral">                          &#39;info&#39; columns.</span></div>
<div class="line"><span class="lineno">   95</span><span class="stringliteral">    Returns:</span></div>
<div class="line"><span class="lineno">   96</span><span class="stringliteral">        A list of tuples containing the rows from the database that match the search criteria.</span></div>
<div class="line"><span class="lineno">   97</span><span class="stringliteral">              Returns None if there is an SQLite programming error.</span></div>
<div class="line"><span class="lineno">   98</span><span class="stringliteral">    Raises:</span></div>
<div class="line"><span class="lineno">   99</span><span class="stringliteral">        sqlite3.ProgrammingError: If there is an error executing the query.</span></div>
<div class="line"><span class="lineno">  100</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  101</span>    <span class="keyword">with</span> Session(engine) <span class="keyword">as</span> session:</div>
<div class="line"><span class="lineno">  102</span>        statement = select(StorageItem)</div>
<div class="line"><span class="lineno">  103</span>        search_words = search_term.split()</div>
<div class="line"><span class="lineno">  104</span> </div>
<div class="line"><span class="lineno">  105</span>        <span class="keywordflow">for</span> word <span class="keywordflow">in</span> search_words:</div>
<div class="line"><span class="lineno">  106</span>            pattern = f<span class="stringliteral">&quot;%{word}%&quot;</span></div>
<div class="line"><span class="lineno">  107</span>            statement = statement.where(</div>
<div class="line"><span class="lineno">  108</span>                or_(</div>
<div class="line"><span class="lineno">  109</span>                    StorageItem.type.like(pattern),</div>
<div class="line"><span class="lineno">  110</span>                    StorageItem.name.like(pattern),</div>
<div class="line"><span class="lineno">  111</span>                    StorageItem.info.like(pattern)</div>
<div class="line"><span class="lineno">  112</span>                )</div>
<div class="line"><span class="lineno">  113</span>            )</div>
<div class="line"><span class="lineno">  114</span> </div>
<div class="line"><span class="lineno">  115</span>        results = session.exec(statement).all()</div>
<div class="line"><span class="lineno">  116</span>        <span class="keywordflow">return</span> list(results)</div>
<div class="line"><span class="lineno">  117</span> </div>
<div class="line"><span class="lineno">  118</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a4a7b8f7d46452a7f1e5d5e3322cfe640" name="a4a7b8f7d46452a7f1e5d5e3322cfe640"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a7b8f7d46452a7f1e5d5e3322cfe640">&#9670;&#160;</a></span>setup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Storage_connector.setup </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Sets up the database by creating the necessary tables if they do not already exist.</pre> 
<p class="definition">Definition at line <a class="el" href="Storage__connector_8py_source.html#l00026">26</a> of file <a class="el" href="Storage__connector_8py_source.html">Storage_connector.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   26</span><span class="keyword">def </span>setup():</div>
<div class="line"><span class="lineno">   27</span>    <span class="stringliteral">&quot;&quot;&quot;Sets up the database by creating the necessary tables if they do not already exist.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">   28</span>    SQLModel.metadata.create_all(engine)</div>
<div class="line"><span class="lineno">   29</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a4309087d1a20815b9930cf35652e668c" name="a4309087d1a20815b9930cf35652e668c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4309087d1a20815b9930cf35652e668c">&#9670;&#160;</a></span>update_item()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> None Storage_connector.update_item </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>item_id</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>pos</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classmodels_1_1StorageItemType.html">StorageItemType</a></td>          <td class="paramname"><span class="paramname"><em>obj_type</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">str</td>          <td class="paramname"><span class="paramname"><em>name</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">str</td>          <td class="paramname"><span class="paramname"><em>json_data</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Updates an item in the storage database.
Args:
    item_id: The id of the item to update.
    pos: The new position of the item.
    obj_type: The new type of the item.
    name: The new name of the item.
    json_data: The new JSON data associated with the item.
</pre> 
<p class="definition">Definition at line <a class="el" href="Storage__connector_8py_source.html#l00119">119</a> of file <a class="el" href="Storage__connector_8py_source.html">Storage_connector.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  119</span><span class="keyword">def </span>update_item(item_id: int, pos: int, obj_type: StorageItemType, name: str, json_data: str) -&gt; <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  120</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  121</span><span class="stringliteral">    Updates an item in the storage database.</span></div>
<div class="line"><span class="lineno">  122</span><span class="stringliteral">    Args:</span></div>
<div class="line"><span class="lineno">  123</span><span class="stringliteral">        item_id: The id of the item to update.</span></div>
<div class="line"><span class="lineno">  124</span><span class="stringliteral">        pos: The new position of the item.</span></div>
<div class="line"><span class="lineno">  125</span><span class="stringliteral">        obj_type: The new type of the item.</span></div>
<div class="line"><span class="lineno">  126</span><span class="stringliteral">        name: The new name of the item.</span></div>
<div class="line"><span class="lineno">  127</span><span class="stringliteral">        json_data: The new JSON data associated with the item.</span></div>
<div class="line"><span class="lineno">  128</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  129</span>    <span class="keyword">with</span> Session(engine) <span class="keyword">as</span> session:</div>
<div class="line"><span class="lineno">  130</span>        db_item = session.get(StorageItem, item_id)</div>
<div class="line"><span class="lineno">  131</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> db_item:</div>
<div class="line"><span class="lineno">  132</span>            logger.error(f<span class="stringliteral">&quot;Update fehlgeschlagen: Item {item_id} nicht gefunden.&quot;</span>)</div>
<div class="line"><span class="lineno">  133</span>            <span class="keywordflow">return</span></div>
<div class="line"><span class="lineno">  134</span> </div>
<div class="line"><span class="lineno">  135</span>        db_item.position = pos</div>
<div class="line"><span class="lineno">  136</span>        db_item.type = obj_type</div>
<div class="line"><span class="lineno">  137</span>        db_item.name = name</div>
<div class="line"><span class="lineno">  138</span>        db_item.info = json_data <span class="keywordflow">if</span> json_data != <span class="stringliteral">&quot;{}&quot;</span> <span class="keywordflow">else</span> <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  139</span> </div>
<div class="line"><span class="lineno">  140</span>        session.add(db_item)</div>
<div class="line"><span class="lineno">  141</span>        session.commit()</div>
<div class="line"><span class="lineno">  142</span>        session.refresh(db_item)</div>
<div class="line"><span class="lineno">  143</span>        logger.info(f<span class="stringliteral">&quot;Item {item_id} erfolgreich aktualisiert.&quot;</span>)</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="abca51ca0d7cc7c573acca0dfb525f6c7" name="abca51ca0d7cc7c573acca0dfb525f6c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abca51ca0d7cc7c573acca0dfb525f6c7">&#9670;&#160;</a></span>base_dir</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Storage_connector.base_dir = os.path.dirname(__file__)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="Storage__connector_8py_source.html#l00015">15</a> of file <a class="el" href="Storage__connector_8py_source.html">Storage_connector.py</a>.</p>

</div>
</div>
<a id="a745322a0cf2d03ef7808ee94c4484d11" name="a745322a0cf2d03ef7808ee94c4484d11"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a745322a0cf2d03ef7808ee94c4484d11">&#9670;&#160;</a></span>db_dir</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Storage_connector.db_dir = os.path.join(<a class="el" href="#abca51ca0d7cc7c573acca0dfb525f6c7">base_dir</a>, &quot;data&quot;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="Storage__connector_8py_source.html#l00016">16</a> of file <a class="el" href="Storage__connector_8py_source.html">Storage_connector.py</a>.</p>

</div>
</div>
<a id="a737f83cafb7b2f183af5dc7165b82fe8" name="a737f83cafb7b2f183af5dc7165b82fe8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a737f83cafb7b2f183af5dc7165b82fe8">&#9670;&#160;</a></span>db_path</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Storage_connector.db_path = os.path.join(<a class="el" href="#a745322a0cf2d03ef7808ee94c4484d11">db_dir</a>, &quot;storage.db&quot;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="Storage__connector_8py_source.html#l00017">17</a> of file <a class="el" href="Storage__connector_8py_source.html">Storage_connector.py</a>.</p>

</div>
</div>
<a id="aafb2377c1be1b5aff1e84786b4fe47c3" name="aafb2377c1be1b5aff1e84786b4fe47c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aafb2377c1be1b5aff1e84786b4fe47c3">&#9670;&#160;</a></span>engine</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Storage_connector.engine = create_engine(f&quot;sqlite:///{<a class="el" href="#a737f83cafb7b2f183af5dc7165b82fe8">db_path</a>}&quot;, connect_args={&quot;check_same_thread&quot;: False})</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="Storage__connector_8py_source.html#l00024">24</a> of file <a class="el" href="Storage__connector_8py_source.html">Storage_connector.py</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespaceStorage__connector.html">Storage_connector</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
